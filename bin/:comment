#!/usr/bin/env bash

SYS_CLIPBOARD=pbcopy
JIRAUSER=mtalbergs
BITBUCKET_PROJECT=https://git.zabbix.com/projects/ZBX/repos/zabbix
SHA="$(git rev-parse HEAD)"
SHA_C11="$(git rev-parse HEAD | head -c 11)"
SHALINK="[$SHA_C11|$BITBUCKET_PROJECT/commits/$SHA]"

echo -n "
<[~$JIRAUSER]> CLOSED
<[~$JIRAUSER]> WON'T FIX
*(1)* No translation string changes.
<[~$JIRAUSER]> CLOSED with minor fix in $SHALINK
<[~$JIRAUSER]> RESOLVED in $SHALINK
<[~$JIRAUSER]> IMPLEMENTED in $SHALINK
$SHALINK
git cherry-pick -m 1 -x $SHA
git merge origin/$REF --no-ff --no-commit
Code review successful for $SHALINK." | fzf | $SYS_CLIPBOARD
